<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 给你一个字符串 text，你需要使用 text 中的字母来拼凑尽可能多的单词 "balloon"（气球）。
        字符串 text 中的每个字母最多只能被使用一次。请你返回最多可以拼凑出多少个单词 "balloon"。

        示例 1：

        输入：text = "nlaebolko"
        输出：1
        示例 2：

        输入：text = "loonbalxballpoon"
        输出：2
        示例 3：

        输入：text = "leetcode"
        输出：0

        来源：力扣（LeetCode）
        链接：https://leetcode-cn.com/problems/maximum-number-of-balloons
        著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。 -->
    <script>
        /**
         * @param {string} text
         * @return {number}
         */
        var maxNumberOfBalloons = function (text) {
            var idx = { a: 1, b: 2, n: 3, l: 4, o: 5 }, arr = Array(5).fill(0);
            for (let c of text) {
                let id = idx[c];
                if (id) {
                    arr[id - 1] += id > 3 ? .5 : 1;
                }
            }
            return Math.min(...arr) | 0;
        };
        console.log(maxNumberOfBalloons("ballon"));

        var maxB = function (text) {
            var idx = { a: 1, b: 2, n: 3, l: 4, o: 5 }, arr = Array(5).fill(0)
            for (let c of text) {
                let id = idx[c]
                if (id) {
                    arr[id - 1] += id > 3 ? .5 : 1;
                }
            }
            // 如果有一项数值比0小，则直接取0
            return Math.min(...arr) | 0;
            // n|0的形式可以直接去掉小数
        }
        // 作者：1FKVNHdv1w
        // 链接：https://leetcode-cn.com/problems/maximum-number-of-balloons/solution/ha-xi-biao-ying-she-zi-mu-dui-ying-shu-z-mavy/

        var maxNumberOfBalloons = function (text) {
            const num = {
                o: 2,
                a: 1,
                b: 1,
                l: 2,
                n: 1,
            };
            const map = {};
            Array.prototype.forEach.call(text, (item) => {
                map[item] ? map[item]++ : (map[item] = 1);
            });
            let res = Infinity;
            for (let key in num) {
                if (!map[key]) return 0; // 缺失字母肯定不能构成balloon
                res = Math.min(res, Math.floor(map[key] / num[key]));
            }
            return res;
        };

        // 作者：wJQldc9IPK
        // 链接：https://leetcode-cn.com/problems/maximum-number-of-balloons/solution/mei-ju-zhao-dao-zui-xiao-ci-shu-nei-cun-ns3p2/

    </script>
</body>

</html>