<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 编写一种算法，若M × N矩阵中某个元素为0，则将其所在的行与列清零。

    示例 1：

    输入：
    [
    [1,1,1],
    [1,0,1],
    [1,1,1]
    ]
    输出：
    [
    [1,0,1],
    [0,0,0],
    [1,0,1]
    ]
    示例 2：

    输入：
    [
    [0,1,2,0],
    [3,4,5,2],
    [1,3,1,5]
    ]
    输出：
    [
    [0,0,0,0],
    [0,4,5,0],
    [0,3,1,0]
    ]

    来源：力扣（LeetCode）
    链接：https://leetcode-cn.com/problems/zero-matrix-lcci
    著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。 -->
    <script>
        // dfs
        var setZeroes = function (matrix) {
            for (let i = 0; i < matrix.length; i++) {
                for (let j = 0; j < matrix[0].length; j++) {
                    if (matrix[i][j] === 0) {
                        dfs(matrix, i, j)
                    }
                }
            }
            for (let i = 0; i < matrix.length; i++) {
                for (let j = 0; j < matrix[0].length; j++) {
                    if (matrix[i][j] === 'flag') {
                        matrix[i][j] = 0
                    }
                }
            }

            function dfs(matrix, i, j, dir) {
                // 递归的base case
                // console.log(matrix.length)
                if (i >= matrix.length || j >= matrix[0].length || i < 0 || j < 0) {
                    return
                }
                if (matrix[i][j] !== 0) {
                    matrix[i][j] = 'flag' // 后面替换为0
                }
                if (!dir || dir === 'up') {
                    dfs(matrix, i - 1, j, 'up') // 向上
                }
                if (!dir || dir === 'down') {
                    dfs(matrix, i + 1, j, 'down') // 向下
                }
                if (!dir || dir === 'left') {
                    dfs(matrix, i, j - 1, 'left') // 向左
                }
                if (!dir || dir === 'right') {
                    dfs(matrix, i, j + 1, 'right') // 向右
                }
            }
        }

        // 作者：gang-feng
        // 链接：https://leetcode-cn.com/problems/zero-matrix-lcci/solution/dfswu-di-jian-dan-yi-dong-de-jie-fa-by-g-tn0b/
        
        
        var setZ2=(matrix)=>{
            for(let i=0;i<matrix.length;i++){
                for(let j=0;j<matrix[0].length;j++){
                    if(matrix[i][j]===0)dfs(i,j,'')
                }
            }
            function dfs(i,j,dir){
                if(i<0 || j<0 || i>=matrix.length || j>=matrix[0].length)return 
                if(matrix[i][j]!==0){
                    matrix[i][j]='X'
                }
                if(!dir || dir=='left'){
                    dfs(i,j-1,'left')
                }
                if(!dir || dir=='right'){
                    dfs(i,j+1,'right')
                }
                if(!dir || dir=='up'){
                    dfs(i-1,j,'up')
                }
                if(!dir || dir=='down'){
                    dfs(i+1,j,'down')
                }
            }
            for(let i=0;i<matrix.length;i++){
                for(let j=0;j<matrix[0].length;j++){
                    if(matrix[i][j]==='X')
                    matrix[i][j]=0
                }
            }
            return matrix
        }

        console.log(setZ2([
    [1,1,1],
    [1,0,1],
    [1,1,1]
    ]));
        

        // 标识法
        var setZeroes = function (matrix) {
            const m = matrix.length, n = matrix[0].length;
            const row = new Array(m).fill(false);
            const col = new Array(n).fill(false);
            for (let i = 0; i < m; i++) {
                for (let j = 0; j < n; j++) {
                    if (matrix[i][j] === 0) {
                        row[i] = col[j] = true;
                    }
                }
            }
            for (let i = 0; i < m; i++) {
                for (let j = 0; j < n; j++) {
                    if (row[i] || col[j]) {
                        matrix[i][j] = 0;
                    }
                }
            }
            return matrix
        };

// 作者：LeetCode-Solution
// 链接：https://leetcode-cn.com/problems/zero-matrix-lcci/solution/ling-ju-zhen-by-leetcode-solution-7ogg/


// 08-30复习
    </script>
</body>

</html>